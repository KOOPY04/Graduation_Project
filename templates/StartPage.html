<!doctype html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>🃏 塔羅占卜 | 首頁</title>
    <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/static/global.css" />
    <link rel="stylesheet" href="/static/StartPage/startpage.css" />
  </head>
  <body class="startpage">
    <div class="nav-right">
      <button id="login-btn" class="nav-btn">登入</button>
      <button id="register-btn" class="nav-btn">註冊</button>
    </div>


    <!-- 登入 Modal -->
    <div id="loginModal" class="modal">
      <div class="modal-content">
        <span id="closeLogin" class="close-btn">&times;</span>
        <h2>登入帳號</h2>
        <button id="googleLoginBtn" class="google-btn">以 Google 登入</button>
        <hr />
        <form id="loginForm">
          <input type="email" id="email" placeholder="Email" required /><br />
          <input
            type="password"
            id="password"
            placeholder="密碼"
            required
          /><br />
          <button type="submit">登入</button>
        </form>
        <p id="loginError" style="color: red; display: none"></p>
      </div>
    </div>

    <!-- 註冊 Modal -->
    <div id="registerModal" class="modal">
      <div class="modal-content">
        <span class="close-btn" id="closeRegister">&times;</span>
        <h2>📝 註冊帳號</h2>
        <form id="registerForm">
          <label>Email:</label>
          <input
            type="email"
            id="registerEmail"
            name="email"
            required
            placeholder="請輸入你的Email..."
          /><br />
          <label>密碼:</label>
          <input
            type="password"
            id="registerPassword"
            name="password"
            required
            placeholder="請輸入你的密碼..."
          /><br />
          <label>姓名:</label>
          <input
            type="text"
            id="registerName"
            name="name"
            placeholder="請輸入你的姓名..."
          /><br />
          <button type="submit">註冊</button>
        </form>
        <div id="registerMessage"></div>
      </div>
    </div>

    <!-- 帳號設定 Modal -->
    <div id="accountSettingsModal" class="modal">
      <div class="modal-content">
        <span class="close-btn" id="closeAccountSettings">&times;</span>
        <h2>⚙️ 帳號設定</h2>

        <div class="accordion">
          <!-- 個人資料 -->
          <div class="accordion-item">
            <button class="accordion-header">個人資料設定</button>
            <div class="accordion-content">
              <label>暱稱：</label>
              <input type="text" id="name" placeholder="輸入暱稱" />
              <button class="btn">儲存變更</button>
            </div>
          </div>

          <!-- 更換頭像 -->
          <div class="accordion-item">
            <button class="accordion-header">更換頭像</button>
            <div class="accordion-content">
              <img
                id="avatarPreview"
                src="/static/images/default-avatar.png"
                alt="目前頭像"
                class="avatar"
              />
              <input type="file" id="avatarInput" accept="image/*" />
              <button class="btn">上傳頭像</button>
            </div>
          </div>

          <!-- 更改密碼 -->
          <div class="accordion-item">
            <button class="accordion-header">更改密碼</button>
            <div class="accordion-content">
              <label>舊密碼：</label>
              <input type="password" id="oldPassword" />
              <label>新密碼：</label>
              <input type="password" id="newPassword" />
              <label>確認新密碼：</label>
              <input type="password" id="confirmPassword" />
              <button class="btn">更新密碼</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 聯絡我們 Modal -->
    <div id="contactModal" class="modal">
      <div class="modal-content">
        <span class="close-btn" id="closeContact">&times;</span>
        <h2>聯絡我們</h2>
        <form id="contactForm">
          <label>用戶</label>
          <input
            type="text"
            name="name"
            id="name"
            required
            placeholder="請輸入暱稱"
          />

          <label>Email</label>
          <input
            type="email"
            name="email"
            id="email"
            required
            placeholder="請輸入Email"
          />

          <div class="select-question-type">
            <label>問題類型</label>
            <select name="type" id="type">
              <option value="技術">技術</option>
              <option value="帳號">帳號</option>
              <option value="其他">其他</option>
            </select>
          </div>

          <label>訊息內容</label>
          <textarea name="message" id="message" required placeholder="請輸入訊息"></textarea>

          <button type="submit">送出</button>
        </form>
        <p id="contactMessage" style="color: green"></p>
      </div>
    </div>

    <div class="header">
      <h1>🃏 塔羅占卜</h1>
    </div>

    <!-- 登入後的使用者下拉選單 -->
    <div id="userDropdown" class="user-dropdown hidden">
      <ul>
        <li id="recordBtn">占卜紀錄</li>
        <li id="accountSettingsBtn">帳號設定</li>
        <li id="contactBtn">聯絡我們</li>
        <li id="logoutBtn">登出</li>
      </ul>
    </div>

    <!-- 大卡背 -->
    <div class="tarot-preview">
      <div class="card-back-container">
        <div id="cardBack" class="card-back"></div>
      </div>
    </div>

    <!-- 扇形牌陣 -->
    <div id="fanContainer" class="spread-card"></div>

    <!-- 卡名 Modal -->
    <div id="cardNameModal" class="modal">
      <div class="modal-content">
        <span class="close-btn" id="closeCardName">&times;</span>
        <h3 id="cardNameText"></h3>
      </div>
    </div>

    <div class="button-row">
      <button id="startBtn">開始占卜</button>
      <button id="introBtn">說明介紹</button>
    </div>

    <!-- 說明介紹 Modal -->
    <div id="introModal" class="modal">
      <div class="modal-content">
        <span class="close-btn" id="closeIntro">&times;</span>
        <h2>🔮 塔羅占卜介紹</h2>
        <div id="summaryText" class="modal-body">
          <p>
            <strong>歡迎來到塔羅的世界</strong><br />
            塔羅牌自中世紀以來，承載著人類對未知的探索與對心靈的洞察。
            每一張牌，都蘊藏著象徵與隱喻，像是一面映照內心與未來的鏡子。
            占卜並非單純的「預測」，而是一場自我對話──
            透過牌面的啟示，幫助你看清當下處境，理解內心的糾結，並找到前進的方向。
          </p>
          <h3>✨ 占卜方式</h3>
          <p>
            <strong>三張牌陣（時間之流）</strong><br />
            呈現事件的時間脈絡：<br />
            ① 過去的影響 → ② 當下的狀態 → ③ 未來的可能<br />
            適合事件推演、感情或事業發展。
          </p>
          <p>
            <strong>四張牌陣（直指核心）</strong><br />
            聚焦於問題的深層結構：<br />
            ① 問題核心 → ② 障礙或短處 → ③ 對策 → ④ 資源或長處<br />
            適合決策、釐清狀態、尋找解方。
          </p>
          <h3>✨ 使用方式</h3>
          <ol>
            <li>點擊「開始占卜」，選擇問題類型與子問題。</li>
            <li>選擇想使用的牌陣（三張 / 四張）。</li>
            <li>靜心誠心，帶著問題，隨機抽牌。</li>
            <li>依牌面揭示，進行解讀與反思。</li>
          </ol>
          <h3>🌙 小提醒</h3>
          <p>
            塔羅是一種指引工具，而非絕對的命運判決。<br />
            它啟發我們看見不同的可能性，並幫助你更有智慧地做出選擇。<br />
            <strong>最終的答案，仍掌握在你自己手中。</strong>
          </p>
        </div>
      </div>
    </div>

    <!-- 卡牌懸浮顯示 -->
    <div id="modalOverlay" class="modal-overlay"></div>
    <img id="modalCard" class="modal-card" />
    <h3
      id="modalCardName"
      style="
        display: none;
        position: fixed;
        top: calc(50% + 250px);
        left: 50%;
        transform: translateX(-50%);
        color: white;
        z-index: 1002;
      "
    ></h3>

    <!-- 自訂警示框 -->
    <div id="customAlert" class="custom-alert">
      <div class="custom-alert-content">
        <p id="customAlertMsg"></p>
        <button id="customAlertBtn">確定</button>
      </div>
    </div>
    <script src="/static/startpage/startpage.js"></script>
  </body>
</html>